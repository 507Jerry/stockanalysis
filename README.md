# Mini Tableau - è½»é‡çº§æ•°æ®å¯è§†åŒ–å¹³å°

ä¸€ä¸ªåŸºäºŽ Next.js 14 æž„å»ºçš„è½»é‡çº§æ•°æ®å¯è§†åŒ–å·¥ä½œå°ï¼Œæ”¯æŒ CSV æ–‡ä»¶ä¸Šä¼ ã€æ•°æ®é¢„è§ˆã€å¤šç§å›¾è¡¨ç±»åž‹å’Œç»Ÿè®¡æ‘˜è¦åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ðŸ“Š **å¤šç§å›¾è¡¨ç±»åž‹**ï¼šæ”¯æŒæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ã€ç›´æ–¹å›¾
- ðŸ“ **CSV æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒæœ¬åœ° CSV æ–‡ä»¶ä¸Šä¼ å’Œè§£æž
- ðŸ“‹ **æ•°æ®é¢„è§ˆ**ï¼šè¡¨æ ¼é¢„è§ˆï¼Œæ”¯æŒç‚¹å‡»è¡¨å¤´æŽ’åº
- ðŸŽ¨ **å›¾è¡¨é…ç½®**ï¼šçµæ´»é€‰æ‹© X è½´ã€Y è½´å’Œåˆ†ç»„å­—æ®µ
- ðŸ“ˆ **ç»Ÿè®¡æ‘˜è¦**ï¼šè‡ªåŠ¨è®¡ç®—å‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°ç­‰ç»Ÿè®¡æŒ‡æ ‡
- ðŸ”¢ **æ´¾ç”Ÿå­—æ®µ**ï¼šè‡ªåŠ¨è¯†åˆ«è‚¡ç¥¨æ•°æ®ï¼ˆopen/closeï¼‰å¹¶è®¡ç®—æ¶¨è·Œå¹…ï¼ˆpct_changeï¼‰
- ðŸŽ¯ **ç®€æ´ UI**ï¼šçŽ°ä»£åŒ–çš„ Tailwind CSS ç•Œé¢è®¾è®¡

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æž¶**ï¼šNext.js 14 (App Router)
- **è¯­è¨€**ï¼šTypeScript
- **æ ·å¼**ï¼šTailwind CSS
- **å›¾è¡¨åº“**ï¼šreact-chartjs-2 + Chart.js
- **CSV è§£æž**ï¼šPapaParse
- **è¡¨å•å¤„ç†**ï¼šreact-hook-form

## é¡¹ç›®ç»“æž„

```
graph01/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ Layout.tsx      # åŸºç¡€å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DataUploader.tsx # æ•°æ®ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DataPreview.tsx # æ•°æ®é¢„è§ˆç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ControlPanel.tsx # å›¾è¡¨é…ç½®æŽ§åˆ¶é¢æ¿
â”‚   â”‚   â”œâ”€â”€ ChartRenderer.tsx # å›¾è¡¨æ¸²æŸ“ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SummaryStats.tsx  # ç»Ÿè®¡æ‘˜è¦ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•°ç›®å½•
â”‚   â”‚   â”œâ”€â”€ parseCsv.ts     # CSV è§£æžé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ transform.ts    # æ•°æ®è½¬æ¢ä¸Žæ´¾ç”Ÿå­—æ®µè®¡ç®—
â”‚   â”‚   â””â”€â”€ types.ts        # ç±»åž‹å®šä¹‰
â”‚   â”œâ”€â”€ globals.css         # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx            # ä¸»é¡µé¢
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ postcss.config.js
â””â”€â”€ README.md
```

## å®‰è£…ä¸Žè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å¼€å‘æ¨¡å¼å¯åŠ¨

```bash
npm run dev
```

å¯åŠ¨åŽï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000)

### 3. æž„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## ä½¿ç”¨è¯´æ˜Ž

### ä¸Šä¼ æ•°æ®

1. ç‚¹å‡»ã€Œé€‰æ‹© CSV æ–‡ä»¶ã€æŒ‰é’®
2. é€‰æ‹©æœ¬åœ° CSV æ–‡ä»¶ï¼ˆç¬¬ä¸€è¡Œåº”ä¸ºè¡¨å¤´ï¼‰
3. ç³»ç»Ÿè‡ªåŠ¨è§£æžå¹¶æ˜¾ç¤ºæ•°æ®é¢„è§ˆ

### é…ç½®å›¾è¡¨

1. **é€‰æ‹©å›¾è¡¨ç±»åž‹**ï¼šæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾æˆ–ç›´æ–¹å›¾
2. **é€‰æ‹© X è½´å­—æ®µ**ï¼šé€šå¸¸é€‰æ‹©æ—¥æœŸã€æ—¶é—´æˆ–åˆ†ç±»å­—æ®µ
3. **é€‰æ‹© Y è½´å­—æ®µ**ï¼šé€‰æ‹©æ•°å€¼åž‹å­—æ®µï¼ˆåŒ…æ‹¬è‡ªåŠ¨ç”Ÿæˆçš„æ´¾ç”Ÿå­—æ®µï¼‰
4. **é€‰æ‹©åˆ†ç»„å­—æ®µ**ï¼ˆå¯é€‰ï¼‰ï¼šç”¨äºŽæŒ‰ä¸åŒåˆ†ç»„ç”Ÿæˆå¤šæ¡çº¿/å¤šä¸ªç³»åˆ—
5. ç‚¹å‡»ã€Œç”Ÿæˆå›¾è¡¨ã€æŒ‰é’®

### æ´¾ç”Ÿå­—æ®µ

å¦‚æžœ CSV æ–‡ä»¶ä¸­åŒ…å« `open` å’Œ `close` å­—æ®µï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—å¹¶æ·»åŠ  `pct_change` å­—æ®µï¼š

```
pct_change = (close - open) / open * 100
```

è¯¥å­—æ®µä¼šè‡ªåŠ¨å‡ºçŽ°åœ¨ Y è½´å­—æ®µé€‰æ‹©åˆ—è¡¨ä¸­ã€‚

### æ•£ç‚¹å›¾ç‰¹æ®ŠåŠŸèƒ½

å½“é€‰æ‹© `pct_change` ä½œä¸º Y è½´å­—æ®µå¹¶ä½¿ç”¨æ•£ç‚¹å›¾æ—¶ï¼š
- æ­£æ”¶ç›Šï¼ˆy >= 0ï¼‰çš„ç‚¹æ˜¾ç¤ºä¸ºçº¢è‰²
- è´Ÿæ”¶ç›Šï¼ˆy < 0ï¼‰çš„ç‚¹æ˜¾ç¤ºä¸ºè“è‰²

### æ•°æ®é¢„è§ˆ

- é»˜è®¤æ˜¾ç¤ºå‰ 50 è¡Œæ•°æ®
- ç‚¹å‡»è¡¨å¤´å¯å¯¹åˆ—è¿›è¡Œå‡åº/é™åºæŽ’åº
- æ”¯æŒæ•°å€¼å’Œæ–‡æœ¬ç±»åž‹çš„æŽ’åº

### ç»Ÿè®¡æ‘˜è¦

ç”Ÿæˆå›¾è¡¨åŽï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ˜¾ç¤ºå½“å‰ Y è½´å­—æ®µçš„ç»Ÿè®¡æ‘˜è¦ï¼ŒåŒ…æ‹¬ï¼š
- æ ·æœ¬æ•° (Count)
- å‡å€¼ (Mean)
- æ ‡å‡†å·® (Std)
- æœ€å°å€¼ (Min)
- 25% åˆ†ä½æ•° (Q25)
- ä¸­ä½æ•° (Median)
- 75% åˆ†ä½æ•° (Q75)
- æœ€å¤§å€¼ (Max)

## ç»„ä»¶è¯´æ˜Ž

### DataUploader
è´Ÿè´£ CSV æ–‡ä»¶çš„ä¸Šä¼ å’Œè§£æžï¼Œä½¿ç”¨ PapaParse åº“è¿›è¡Œè§£æžã€‚

### DataPreview
æ˜¾ç¤ºæ•°æ®è¡¨æ ¼é¢„è§ˆï¼Œæ”¯æŒå‰ 50 è¡Œæ˜¾ç¤ºå’Œç‚¹å‡»è¡¨å¤´æŽ’åºã€‚

### ControlPanel
å›¾è¡¨é…ç½®æŽ§åˆ¶é¢æ¿ï¼Œç”¨äºŽé€‰æ‹©å›¾è¡¨ç±»åž‹ã€X è½´ã€Y è½´å’Œåˆ†ç»„å­—æ®µã€‚

### ChartRenderer
æ ¹æ®é…ç½®æ¸²æŸ“ä¸åŒç±»åž‹çš„å›¾è¡¨ï¼Œä½¿ç”¨ react-chartjs-2 å®žçŽ°ã€‚

### SummaryStats
æ˜¾ç¤ºå½“å‰é€‰æ‹©å­—æ®µçš„ç»Ÿè®¡æ‘˜è¦ä¿¡æ¯ã€‚

## æ‰©å±•è¯´æ˜Ž

### æ·»åŠ æ–°çš„å›¾è¡¨ç±»åž‹

1. åœ¨ `app/lib/types.ts` ä¸­çš„ `ChartType` ç±»åž‹æ·»åŠ æ–°ç±»åž‹
2. åœ¨ `ControlPanel.tsx` çš„ä¸‹æ‹‰é€‰é¡¹ä¸­æ·»åŠ æ–°é€‰é¡¹
3. åœ¨ `ChartRenderer.tsx` ä¸­æ·»åŠ å¯¹åº”çš„æ¸²æŸ“é€»è¾‘

### è¿žæŽ¥è‚¡ç¥¨æ•°æ® API

é¢„ç•™çš„ API è°ƒç”¨å…¥å£å¯ä»¥åœ¨ `app/lib/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š

```typescript
// app/lib/stockApi.ts
export async function fetchStockData(ticker: string) {
  // è¿žæŽ¥ yfinance æˆ– FastAPI åŽç«¯
  // è¿”å›žæ ¼å¼åŒ–çš„æ•°æ®
}
```

ç„¶åŽåœ¨ `DataUploader.tsx` ä¸­æ·»åŠ ä»Ž API åŠ è½½æ•°æ®çš„é€‰é¡¹ã€‚

## æ³¨æ„äº‹é¡¹

- CSV æ–‡ä»¶ç¬¬ä¸€è¡Œå¿…é¡»ä¸ºè¡¨å¤´
- æ•°å€¼åž‹å­—æ®µçš„åˆ¤æ–­åŸºäºŽæŠ½æ ·æ£€æŸ¥ï¼ˆå‰ 10 è¡Œï¼‰
- ç›´æ–¹å›¾ä»…ä½¿ç”¨ Y è½´å­—æ®µï¼Œå¿½ç•¥ X è½´
- åˆ†ç»„å­—æ®µæ”¯æŒä»»æ„å­—æ®µç±»åž‹

## è®¸å¯è¯

MIT

